<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Todo</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body class="bg-gradient-to-br from-indigo-800 via-fuchsia-700 to-green-700 ">
<div class="container sm:max-w-md mx-auto bg-slate-800 h-full overflow-y-auto max-w-full">
    <div class="px-5 flex flex-col gap-y-3"">
        <div class="py-5">
            <form name="formtodo" class="flex flex-col items-center justify-center gap-y-5">
                <h1 class="text-6xl font-bold tracking-wide text-green-500">Todolist</h1>
                <input type="text" name="todo" id="todo" placeholder="Add.." class="inline-block bg-slate-500 focus:outline-none rounded-md py-2 px-2 text-white"></td>
                <input type="submit" value="Add" class="inline-block bg-cyan-500 py-1 px-6 rounded-sm font-semibold text-white shadow-sm focus:cursor-pointer hover:bg-pink-600 transition-all duration-500 ease-in-out "/></td>
            </form>
        </div>
        
        <div class="py-1">
            <h1 class="text-xl text-green-800 mb-2">Daftar Todolist</h1>
                    <div class="flex items-center  mb-2">
                        <input type="text" name="search" placeholder="Search" id="search" class="inline-block bg-slate-500 focus:outline-none rounded-md hover:ring-1 py-1 px-1 w-1/2 text-white placeholder:text-slate-400">
                    </div>
                    <div id="todobody">
                    </div>
           </div>
    </div>
</div>

    <script>
        const todolist = ["üöÄ LEARN TYPESCRIPT","üèéÔ∏è Learn ReactJs" , "Build e-commerce üõí Web App " ,"ü™Ñ Learn NextJs"];

        function clear(){
            const todobody = document.getElementById('todobody');
            while(todobody.firstChild){
                todobody.removeChild(todobody.firstChild);
            }
        }

        function  removeTodolist(index){
            todolist.splice(index,1);
            displaytodo();
        }

        function addtodo(todo , index){
            const tr = document.createElement('tr');
                tr.className = 'jarak'
                const tdbutton = document.createElement('td')
                tr.appendChild(tdbutton);

                const buttonDone = document.createElement('input');
                buttonDone.type = 'button';
                buttonDone.value = 'Done';
                buttonDone.className = "btn"
                buttonDone.onclick = function (){
                    removeTodolist(index);
                }
                tdbutton.appendChild(buttonDone);

                const tdtodo = document.createElement('td');
                tdtodo.textContent = todo; 
                tdtodo.className = 'text-todo';
                tr.appendChild(tdtodo);
               

                const todobody = document.getElementById("todobody");
                todobody.appendChild(tr);
        }

        function displaytodo(){
            clear();
            for(let i = 0 ; i < todolist.length; i++){
                const todo = todolist[i];

                const searchText = document.getElementById("search").value.toLowerCase();
                if(todo.toLowerCase().includes(searchText)){
                    addtodo(todo,i);
                } 
                
            }
        }


        document.forms['formtodo'].onsubmit = function (event){
        event.preventDefault();

         const todo = document.forms['formtodo']['todo'].value;
            todolist.push(todo);

            document.forms['formtodo'].reset();


            displaytodo();

  };

  const search = document.getElementById('search');

  search.onkeyup = function (){
    displaytodo();
  }
  search.onkeydown = function (){
    displaytodo();
  }
  displaytodo();
    </script>
</body>
</html>